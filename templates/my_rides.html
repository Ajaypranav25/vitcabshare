{% extends "base.html" %}
{% block title %}My Rides - VIT Cab Share{% endblock %}
{% block content %}
<h2 style="margin-bottom: 2rem;">My Created Rides</h2>
{% if rides %}
    {% for ride in rides %}
    <div class="ride-card">
        <div class="ride-info">
            <div class="info-item">
                <span class="info-label">Departure</span>
                <span class="info-value">{{ ride.departure_time.strftime('%d %b, %I:%M %p') }}</span>
            </div>
            <div class="info-item">
                <span class="info-label">Seats</span>
                <span class="info-value">{{ ride.available_seats }} / {{ ride.total_seats }}</span>
            </div>
            <div class="info-item">
                <span class="info-label">Bookings</span>
                <span class="info-value">{{ ride.bookings|length }}</span>
            </div>
        </div>
        <div style="display: flex; gap: 10px; margin-top: 10px;">
            <a href="{{ url_for('ride_details', ride_id=ride.id) }}" class="btn">View Details</a>
            
            <form action="{{ url_for('delete_ride', ride_id=ride.id) }}" method="POST" style="display: inline;">
                <button type="submit" class="btn" style="background-color: #dc3545; color: white; border: none;" 
                        onclick="return confirm('Are you sure you want to delete this ride? This will also cancel all current bookings.')">
                    Delete Ride
                </button>
            </form>
        </div>
    </div>
    {% endfor %}
{% else %}
    <p style="text-align: center; color: #666;">You haven't created any rides yet.</p>
{% endif %}
{% endblock %}