{% extends "base.html" %}
{% block title %}Ride Details - VIT Cab Share{% endblock %}
{% block content %}
<h2 style="margin-bottom: 2rem;">Ride Details</h2>
<div class="ride-card">
    <h3 style="color: #e93427; margin-bottom: 1rem;">Created by {{ ride.creator.name }}</h3>
    <div class="ride-info">
        <div class="info-item">
            <span class="info-label">Departure Time</span>
            <span class="info-value">{{ ride.departure_time.strftime('%d %b %Y, %I:%M %p') }}</span>
        </div>
        <div class="info-item">
            <span class="info-label">Available Seats</span>
            <span class="info-value">{{ ride.available_seats }} / {{ ride.total_seats }}</span>
        </div>
        <div class="info-item">
            <span class="info-label">Cost per Person</span>
            <span class="info-value">â‚¹{{ ride.cost_per_person }}</span>
        </div>
        <div class="info-item">
            <span class="info-label">Meeting Point</span>
            <span class="info-value">{{ ride.meeting_point }}</span>
        </div>
        <div class="info-item">
            <span class="info-label">Drop Point</span>
            <span class="info-value">{{ ride.drop_point }}</span>
        </div>
    </div>
    {% if ride.notes %}
    <p style="color: #666; margin: 1rem 0;"><strong>Notes:</strong> {{ ride.notes }}</p>
    {% endif %}
    <p style="color: #666; margin-bottom: 1rem;"><strong>Contact:</strong> {{ ride.creator.phone }}</p>
</div>

<h3 style="margin: 2rem 0 1rem;">Bookings ({{ bookings|length }})</h3>
{% if bookings %}
    {% for booking in bookings %}
    <div class="ride-card">
        <p><strong>{{ booking.user.name }}</strong> - {{ booking.seats_booked }} seat(s)</p>
        <p style="color: #666;">Booked on: {{ booking.booked_at.strftime('%d %b %Y, %I:%M %p') }}</p>
        {% if ride.user_id == session.user_id %}
        <p style="color: #666;">Contact: {{ booking.user.phone }}</p>
        {% endif %}
    </div>
    {% endfor %}
{% else %}
    <p style="color: #666;">No bookings yet.</p>
{% endif %}
{% endblock %}